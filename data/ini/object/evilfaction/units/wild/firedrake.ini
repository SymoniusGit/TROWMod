;------------------------------------------------------------------------------
;
;	FireDrake.ini
;
;------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


Object FlamethrowerProjectileStream
	; *** ART Parameters ***

	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.5
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End

	; *** AUDIO Parameters ***

	;SoundAmbient = FireDrakeFireExhale			;didn't work

	; *** ENGINEERING Parameters ***
	KindOf = INERT
	Behavior = ProjectileStreamUpdate ModuleTag_02
		;nothing
	End
End

Object Flamethrower1ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.1
		TileFactor = 1.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 1 ;4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower2ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.2
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower3ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.3
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower4ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.4
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower5ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.5
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower6ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.6
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower7ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.7
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower8ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.8
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower9ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 1.9
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

Object Flamethrower10ProjectileStream FlamethrowerProjectileStream
	; *** ART Parameters ***
	Draw = W3DProjectileStreamDraw ModuleTag_01
		Texture = EXFireProjectile03.tga
		Width = 2.0
		TileFactor = 3.0 ; put the texture on the line segment this many times
		ScrollRate = 2.0; scroll the texture offset this fast
		MaxSegments = 4 ; only play the first X if there are a ton of them. 0 means play all
	End
End

;------------------------------------------------------------------------------
Object WildFireDrake
	; *** ART Parameters ***
	
	SelectPortrait  =  HPFireDrake
					;	BuildingNoArt

	; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage		= HIFireDrake

	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes

		StaticModelLODMode = Yes
		
		ParticlesAttachedToAnimatedBones = Yes

		DefaultModelConditionState
			Model						=	WUFireDrk_SKN
			Skeleton					=   WUFireDrk_SKL
			WeaponLaunchBone			=	PRIMARY B_JAW
		End
		
		; --- Idle Anims
		IdleAnimationState
			Animation				= IDLA
				AnimationName		= WUFireDrk_IDLA
				AnimationMode		= ONCE
				AnimationPriority   = 1
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState          = DYING DEATH_2
			Animation
				AnimationName   = WUFireDrk_IDLA
				AnimationMode   = LOOP
			End
		End
		
		AnimationState						= DYING
			Animation						= DIEA
				AnimationName				= WUFireDrk_DIEA
				AnimationMode				= ONCE
			End
		End



		;;-------- FALLING & FLYING

		AnimationState						= STUNNED_FLAILING
			Animation						= Falling
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End
		
		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End
		
		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= WUFireDrk_FLYA
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End
						
		AnimationState						= STUNNED_STANDING_UP 
			Animation						= StandUp
				AnimationName				= WUFireDrk_GTPA
				AnimationMode				= ONCE
			End
		End
		
		AnimationState						= STUNNED
			Animation						= LNDA
				AnimationName				= WUFireDrk_LNDA
				AnimationMode				= ONCE
			End
		End		

		AnimationState						= SPECIAL_WEAPON_ONE
			Animation						= ATKA
				AnimationName				= WUFireDrk_ATKA
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:YES
			ParticleSysBone = B_HEAD FireTest
		End
	
		AnimationState						= SPECIAL_POWER_1
			Animation						= ATKA
				AnimationName				= WUFireDrk_ATKA
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End
		End
	
				
		AnimationState						= MOVING ATTACKING
			Animation						= ATA1
				AnimationName				= WUFireDrk_ATRA
				AnimationMode				= LOOP
				;UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 0.87 0.87
			End
		End

		AnimationState						= ATTACKING
			Animation						= ATKB
				AnimationName				= WUFireDrk_ATKB
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End

			; this actually worked but will hook to animation sound instead
			;BeginScript		
			;	CurDrawablePlaySound("FireDrakeFireExhale")
			;EndScript

			Flags							= RESTART_ANIM_WHEN_COMPLETE
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:YES
		End

		AnimationState = MOVING TURN_LEFT_HIGH_SPEED
			Animation = Moving
				AnimationName				= WUFireDrk_RUNA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
			Animation = Moving
				AnimationName				= WUFireDrk_RUNA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState = TURN_LEFT
			Animation = Moving
				AnimationName				= WUFireDrk_TRNL
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End

		AnimationState = TURN_RIGHT
			Animation = Moving
				AnimationName				= WUFireDrk_TRNR
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End
				

		AnimationState = MOVING ACCELERATE
			Animation = Moving
				AnimationName = WUFireDrk_ACCL
				AnimationMode = LOOP
				AnimationSpeedFactorRange	=  1.0 1.0
				AnimationBlendTime			= 10
			End
			;Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
			FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
			FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		End
					
		;AnimationState = MOVING DECELERATE
		;	Animation = Moving
		;		AnimationName = WUFireDrk_DECL
		;	AnimationMode = LOOP
		;		AnimationSpeedFactorRange	=  1.0 1.0
		;		AnimationBlendTime			= 1
		;	End
		;	;Flags = RANDOMSTART
		;	;ParticleSysBone = None InfantryDustTrails
		;	FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
		;	FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		;End

			
		;AnimationState						= MOVING PANICKING
		;	Animation
		;		AnimationName				= WUFireDrk_MFDA
		;		AnimationMode				= LOOP
		;	End
		;	Flags							= RANDOMSTART
		;End
				
		AnimationState = MOVING
			Animation = Moving
				AnimationName = WUFireDrk_RUNA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 1.0 1.0
			End
			;Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
			FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
			FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		End

    
		;AnimationState = HIT_REACTION HIT_LEVEL_3
		;	Animation = Hit_Level_3_a
		;		AnimationName = WUFireDrk_HITA
		;		AnimationMode = ONCE
		;	End
		;End
		
		;AnimationState						= EMOTION_CELEBRATING
		;	Animation						= CHRA
		;		AnimationName				= WUFireDrk_CHRA
		;		AnimationMode				= Once
		;	End
		;	Flags							= RESTART_ANIM_WHEN_COMPLETE
		;End		
		
	End
		
	; ***DESIGN parameters ***
	Side				= Wild
	EditorSorting		= UNIT
	ThreatLevel			= FIRE_DRAKE_THREAT_LEVEL
	ThingClass			= MEDIUM_MONSTER
	CommandPoints		= 50
	BountyValue			= FIREDRAKE_BOUNTY_VALUE
	TransportSlotCount	= TRANSPORTSLOTCOUNT_MONSTER
	ShowHealthInSelectionDecal	= Yes
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG	
	BuildTime		= WILD_FIREDRAKE_BUILDTIME
	BuildCost		= WILD_FIREDRAKE_BUILDCOST
	
	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    FireDrakeFlame
	End
	
	ArmorSet
		Conditions      = None
		Armor           = FireDrakeArmor
		DamageFX        = NormalDamageFX
	End
	
	VisionRange			= FIREDRAKE_BASE_VISION ;VISION_STANDARD_LARGE_ANIMAL
	ShroudClearingRange = SHROUD_CLEAR_HERO

	DisplayName			= OBJECT:WildFireDrake
	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 2
	CrushDecelerationPercent = 50%
	CrushRevengeWeapon	= RangedInfantryCrushRevenge
	UseCrushAttack			= No	
	CommandSet			= WildFireDrakeCommandSet	


	; *** AUDIO Parameters ***;

	VoiceAttack							= FireDrakeVoxAttack
	VoiceAttackAir						= FireDrakeVoxAttack
	VoiceAttackCharge					= FireDrakeVoxAttack
	VoiceAttackMachine					= FireDrakeVoxAttack	
	VoiceAttackStructure				= FireDrakeVoxAttack
	VoiceCreated						= EVA:FireDrakeCreated
	VoiceCreated						= +SOUND:FireDrakeVoxCreated
	VoiceFullyCreated					= EVA:FireDrakeCreated
	VoiceFullyCreated					= +SOUND:FireDrakeVoxCreated
	VoiceGuard							= FireDrakeVoxMove
	VoiceMove							= FireDrakeVoxMove
	VoiceMoveToCamp						= FireDrakeVoxMove
	VoiceMoveWhileAttacking				= FireDrakeVoxMove
	VoicePriority						= 55
	VoiceRetreatToCastle				= FireDrakeVoxMove
	VoiceSelect							= FireDrakeVoxSelectMS
	VoiceSelectBattle 					= FireDrakeVoxSelectMS

	;	VoiceEnterStateAttack			= 
	;	VoiceEnterStateAttackCharge		= 
	;	VoiceEnterStateAttackMachine		= 
	;	VoiceEnterStateAttackStructure	= 
	;	VoiceEnterStateMove			= 
	;	VoiceEnterStateMoveToCamp		= 
	;	VoiceEnterStateMoveWhileAttacking	= 
	;	VoiceEnterStateRetreatToCastle	= 

	SoundImpact					= ImpactHorse
	SoundAmbient				= FireDrakeVoxAmbientLoop

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= FireDrakeVoxMove
		VoiceEnterUnitMordorMumakil			= FireDrakeVoxMove
		VoiceEnterUnitSlaughterHouse		= FireDrakeVoxMove
		VoiceGarrison						= FireDrakeVoxMove
		VoiceInitiateCaptureBuilding		= FireDrakeVoxMove
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ; Warn the player when the enemy gets a unit. Override the normal sighting event from StandardUnitEvaEvents.inc
	;EvaEnemyObjectSightedEvent = 

	ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
		AnnouncementEventEnemy = DiscoveredEnemyDrake
		AnnouncementEventAlly = None
		AnnouncementEventOwner = None
		
		OnlyIfVisible = Yes						; Don't announce if hidden in the shroud
		CountAsFirstSightedAnnoucement = Yes	; Don't re-annouce if going into shroud & back
		UseObjectsPosition = No					; Play from central Fortress, not at unit's position
		CreateFakeRadarEvent = Yes				; Allow player to jump to unit after hearing annoucement
	End

	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo						;this only played once and way too early
	;	ModelCondition = Required:ATTACKING			Excluded:DYING	Sound:FireDrakeFireExhale
	;End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: FireDrakeInfernoMS		Animation: WUFireDrk_SKL.WUFireDrk_ATKA		Frames: 22
		AnimationSound = Sound: FireDrakeFireExhale		Animation: WUFireDrk_SKL.WUFireDrk_ATKB		Frames: 20
		AnimationSound = Sound: TrollBodyfall			Animation: WUFireDrk_SKL.WUFireDrk_DIEA		Frames: 20
		AnimationSound = Sound: TrollBodyfall			Animation: WUFireDrk_SKL.WUFireDrk_LNDA		Frames: 1
		AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_GTPA		Frames: 9 16
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_RUNA		Frames: 6 16
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_TRNL		Frames: 12 26
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_TRNR		Frames: 12 26
		AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_ACCL		Frames: 12

		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_ATRA	Frames:8 11 18 20
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_RUNA	Frames:8 11 18 20
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_TRNL	Frames:14 29
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_TRNR	Frames:14 29 
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE ARMY_SUMMARY
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = FIREDRAKE_HEALTH
		RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        	StanceTemplate = Hero
    	End
  
  	Behavior = BezierProjectileBehavior ModuleTag_08 // Module starts asleep, and wakes up when thrown.
		// To tweak a Bezier path
		FirstHeight = 24  // Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% // Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes // I dont detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   // When I hit the ground, Ill arc again
		BounceDistance = 40 // this far
		BounceFirstHeight = 24  // Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% // Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
  
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		StopChaseDistance			= 642
		CanAttackWhileContained		= Yes
		AILuaEventsList				= GondorArcherFunctions		 ;; temp, Archers not afraid of trolls
		MinCowerTime				= 8000
		MaxCowerTime				= 10000
		;AttackPriority				= 	AttackPriority_Archer
	End
	
	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED				; originally 120
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED				; originally 120
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.600     ; in Dist/Sec
		DestructionDelay = 12000
		Sound = INITIAL FireDrakeVoxDieMS
	End
	
	Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
		DeathTypes			= NONE +FADED
		DeathFlags			= DEATH_2
		FadeDelay			= 500
		FadeTime			= 3500
		DestructionDelay	= 4000
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1993 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 1993 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 1993 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction = No    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker			; required for faramir's wounding arrow
		AddEmotion			=	Terror_Base
		//	AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	UncontrollableFear_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		AddEmotion			=	HeroCheerIdle_Base
		AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
	End		

	
	;;; Inferno ;;;
	Behavior = SpecialPowerModule ModuleTag_InfernoStarter
		SpecialPowerTemplate		= SpecialAbilityFireDrakeInferno
		UpdateModuleStartsAttack	= Yes
		InitiateSound			= FireDrakeVoxInferno
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_InfernoUpdate
		SpecialPowerTemplate    = SpecialAbilityFireDrakeInferno
		UnpackTime              = 1300 ; Drawing the horn
		;PreparationTime         = 1   ; nothing
		;PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 3700 ; Putting horn away
		;TriggerSound				= FireDrakeInfernoMS		;too much delay
		;UnpackSound				= FireDrakeInfernoMS	;didn't play at all
		;PackSound					= FireDrakeInfernoMS		;too much delay
	;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
		StartAbilityRange = 90.0
		SpecialWeapon = FireDrakeInferno
		WhichSpecialWeapon = 1
	End

	;---------METAMORPHOSIS------------------------------------------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MetamorphEnabler
		SpecialPowerTemplate = SpecialAbilityShapeshiftOne
		TriggeredBy = Upgrade_ObjectLevel10	;Upgrade_MiniHordeLvl2
	End
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= Yes
		;InitiateSound				= FellBeastVoiceMove
		;SetModelCondition			= ModelConditionState:USER_1
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildGreatFireDrake
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End

	Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive 		= Yes
		HealingAmount 		= HERO_HEAL_AMOUNT
		HealingDelay 		= 1000
		StartHealingDelay 	= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat 	= Yes
	End

	Behavior = AISpecialPowerUpdate DrakeMetamorphosisAI
		CommandButtonName = Command_SpecialAbilityMetamorphosis
		SpecialPowerAIType = AI_SPECIAL_POWER_GOBLINKING_MOUNTED
	End
	
	Geometry = BOX
	GeometryMajorRadius = 30.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_VOLUME
;    ShadowSizeX = 19;
;    ShadowSizeY = 19;
;    ShadowTexture = ShadowI;
End
;------------------------------------------------------------------------------

ChildObject WildFireDrake_Summoned WildFireDrake
	
	IsTrainable		= No
	CommandPoints	= 0	
	EquivalentTo	= WildFireDrake

	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate
		; This one displays the timer, but the one in the uint does the work 
		MinLifetime		= 60000
		MaxLifetime		= 60000
		DeathType		= FADED
	End
End



;------------------------------------------------------------------------------
;
;	These child objects are used in the fire drake lair.
;
ChildObject FireDrake_Slaved WildFireDrake

  	EvaEnemyObjectSightedEvent = DiscoveredEnemyDrake 
  	EvaEnemyObjectSightedAfterRespawnEvent = DiscoveredEnemyDrake ; Event to run after the Fire Drake Lair is respawned. WARNING: This INI field only works for "SlavedUpdate.UseSlaverAsControlForEvaObjectSightedEvents = Yes" units

	; Should be the same as WildFireDrake except with CREEP.
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE CREEP

	VisionRange = CREEP_VISION
	DisplayName = OBJECT:GenericFireDrake
	Behavior = SlavedUpdate ModuleTag_Slave
		GuardMaxRange		= 350
		GuardWanderRange	= 80
		UseSlaverAsControlForEvaObjectSightedEvents = Yes
	End

End

//------------------------------------------------------------------------------
//	Fortress Drake
ChildObject WildFortressFireDrake WildFireDrake
	
	CommandPoints	= 0

	//	Adding HERO kindof
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SCORE HERO

	BuildTime		= 0

	; this unit should cost 0 because the user is charged for the upgrade that creates it
	BuildCost = 0 

	; *** AUTO RESOLVE DATA *** 
	AutoResolveUnitType     = AutoResolveUnit_Cavalry
	AutoResolveCombatChain  = AutoResolve_CavalryCombatChain
	AutoResolveBody         = AutoResolve_WildFireDrakeBody
	
	AutoResolveArmor
		Armor = AutoResolve_WildFireDrakeArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_WildFireDrakeWeapon
	End
End

;------------------------------------------------------------------------------
Object WildBabyDrake ; now a full-fledged object
	; *** ART Parameters ***
	
	SelectPortrait  =  HPFireDrake
	; SelectPortrait  =  HIFireDrakeBrood
					;	BuildingNoArt
	; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
	ButtonImage		= HIFireDrake

	Draw = W3DScriptedModelDraw ModuleTag_01
		OkToChangeModelColor = Yes

		StaticModelLODMode = Yes
		
		; specify options for static LODs
		;LodOptions	= LOW
		;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
		;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
		;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
		;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		;End
		;
		;LodOptions	= MEDIUM
		;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
		;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
		;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
		;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		;End
		;
		;LodOptions	= HIGH
		;	AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
		;	MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
		;	MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
		;	MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		;End
		
		ParticlesAttachedToAnimatedBones = yes

		DefaultModelConditionState
			Model						=   WUFireDrk_SKN ;WUFDrkSml_SKN
			Skeleton					=   WUFireDrk_SKL
			WeaponLaunchBone			=	PRIMARY B_JAW
		End
		
		; --- Idle Anims
		IdleAnimationState
			Animation				= IDLA
				AnimationName		= WUFireDrk_IDLA
				AnimationMode		= ONCE
				AnimationPriority   = 1
			End
			Flags				=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState          = DYING DEATH_2
			Animation
				AnimationName   = WUFireDrk_SKL.WUFireDrk_IDLA
				AnimationMode   = LOOP
			End
		End
		
		AnimationState						= DYING
			Animation						= DIEA
				AnimationName				= WUFireDrk_DIEA
				AnimationMode				= ONCE
			End
		End



		;;-------- FALLING & FLYING

		AnimationState						= STUNNED_FLAILING
			Animation						= Falling
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End
		
		AnimationState						= PASSENGER
			Animation						= Grabbed
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
			End
			Flags							= RANDOMSTART
		End
		
		AnimationState        				= THROWN_PROJECTILE
			Animation           			= FlyA
				AnimationName      	 		= WUFireDrk_FLYA
				AnimationMode       		= LOOP
			End
			Flags               			= RANDOMSTART
		End
		
		AnimationState						= FREEFALL
			Animation						= Falling
				AnimationName				= WUFireDrk_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
			End
		End
						
		AnimationState						= STUNNED_STANDING_UP 
			Animation						= StandUp
				AnimationName				= WUFireDrk_GTPA
				AnimationMode				= ONCE
			End
		End
		
		AnimationState						= STUNNED
			Animation						= LNDA
				AnimationName				= WUFireDrk_LNDA
				AnimationMode				= ONCE
			End
		End		

		AnimationState						= SPECIAL_WEAPON_ONE
			Animation						= ATKA
				AnimationName				= WUFireDrk_ATKA
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:YES
			ParticleSysBone = B_HEAD FireTest
		End
	
		AnimationState						= SPECIAL_POWER_1
			Animation						= ATKA
				AnimationName				= WUFireDrk_ATKA
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End
		End
	
				
		AnimationState						= MOVING ATTACKING
			Animation						= ATA1
				AnimationName				= WUFireDrk_ATRA
				AnimationMode				= LOOP
				;UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 0.87 0.87
			End
		End

		AnimationState						= ATTACKING
			Animation						= ATKB
				AnimationName				= WUFireDrk_ATKB
				AnimationMode				= ONCE
				;UseWeaponTiming				= Yes
			End

			; this actually worked but will hook to animation sound instead
			;BeginScript		
			;	CurDrawablePlaySound("FireDrakeFireExhale")
			;EndScript
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			ParticleSysBone = B_HEAD DrakeBreathProxy FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathSlave FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeFireBreathSmoke FOLLOWBONE:YES
			ParticleSysBone = B_HEAD DrakeBreathWarmup FOLLOWBONE:YES
		End

		AnimationState = MOVING TURN_LEFT_HIGH_SPEED
			Animation = Moving
				AnimationName				= WUFireDrk_RUNA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState = MOVING TURN_RIGHT_HIGH_SPEED
			Animation = Moving
				AnimationName				= WUFireDrk_RUNA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState = TURN_LEFT
			Animation = Moving
				AnimationName				= WUFireDrk_TRNL
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End

		AnimationState = TURN_RIGHT
			Animation = Moving
				AnimationName				= WUFireDrk_TRNR
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange = 2.5 2.5
			End
		End
				

		AnimationState = MOVING ACCELERATE
			Animation = Moving
				AnimationName = WUFireDrk_ACCL
				AnimationMode = LOOP
				AnimationSpeedFactorRange	=  1.0 1.0
				AnimationBlendTime			= 10
			End
			;Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
			FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
			FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		End
					
		;AnimationState = MOVING DECELERATE
		;	Animation = Moving
		;		AnimationName = WUFireDrk_DECL
		;	AnimationMode = LOOP
		;		AnimationSpeedFactorRange	=  1.0 1.0
		;		AnimationBlendTime			= 1
		;	End
		;	;Flags = RANDOMSTART
		;	;ParticleSysBone = None InfantryDustTrails
		;	FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
		;	FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		;End

			
		;AnimationState						= MOVING PANICKING
		;	Animation
		;		AnimationName				= WUFireDrk_MFDA
		;		AnimationMode				= LOOP
		;	End
		;	Flags							= RANDOMSTART
		;End
				
		AnimationState = MOVING
			Animation = Moving
				AnimationName = WUFireDrk_RUNA
				AnimationMode = LOOP
				AnimationSpeedFactorRange	= 1.0 1.0
			End
			;Flags = RANDOMSTART
			;ParticleSysBone = None InfantryDustTrails
			FXEvent	= Frame:17 FireWhenSkipped Name:FX_DrakeRightFootStep
			FXEvent	= Frame:6 FireWhenSkipped Name:FX_DrakeLeftFootStep
		End

    
		;AnimationState = HIT_REACTION HIT_LEVEL_3
		;	Animation = Hit_Level_3_a
		;		AnimationName = WUFireDrk_HITA
		;		AnimationMode = ONCE
		;	End
		;End
		
		;AnimationState						= EMOTION_CELEBRATING
		;	Animation						= CHRA
		;		AnimationName				= WUFireDrk_SKL.WUFireDrk_CHRA
		;		AnimationMode				= Once
		;	End
		;	Flags							= RESTART_ANIM_WHEN_COMPLETE
		;End		
		
	End
		
	; ***DESIGN parameters ***
	Side				= Wild
	EditorSorting		= UNIT
	ThreatLevel			= FIRE_DRAKE_THREAT_LEVEL
	ThingClass	= HORDE_UNIT
	CommandPoints	= 50 ;24
	BountyValue			= FIREDRAKE_BOUNTY_VALUE
	TransportSlotCount	= TRANSPORTSLOTCOUNT_UNIT
	ShowHealthInSelectionDecal	= Yes
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_WEAK ;1	
	BuildTime	= BABYDRAKE_BUILDTIME
	BuildCost	= BABYDRAKE_BUILDCOST
	
	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    BabyDrakeFlame
	End
	
	ArmorSet
		Conditions      = None
		Armor           = BabyDrakeArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange			= FIREDRAKE_BASE_VISION ;VISION_STANDARD_LARGE_ANIMAL
	ShroudClearingRange = SHROUD_CLEAR_HERO

	DisplayName	= OBJECT:BabyFireDrake
	CrushableLevel		= 1  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 0
	CrushDecelerationPercent = 50%
	CrushRevengeWeapon	= RangedInfantryCrushRevenge
	UseCrushAttack			= No	
	CommandSet	= WildBabyDrakeCommandSet	

	MaxSimultaneousOfType = 9

	; *** AUDIO Parameters ***;

	VoiceAttack							= FireDrakeVoxAttack
	VoiceAttackAir						= FireDrakeVoxAttack
	VoiceAttackCharge					= FireDrakeVoxAttack
	VoiceAttackMachine					= FireDrakeVoxAttack	
	VoiceAttackStructure				= FireDrakeVoxAttack
	VoiceCreated						= EVA:FireDrakeCreated
	VoiceCreated						= +SOUND:FireDrakeVoxCreated
	VoiceFullyCreated					= EVA:FireDrakeCreated
	VoiceFullyCreated					= +SOUND:FireDrakeVoxCreated
	VoiceGuard							= FireDrakeVoxMove
	VoiceMove							= FireDrakeVoxMove
	VoiceMoveToCamp						= FireDrakeVoxMove
	VoiceMoveWhileAttacking				= FireDrakeVoxMove
	VoicePriority						= 55
	VoiceRetreatToCastle				= FireDrakeVoxMove
	VoiceSelect							= FireDrakeVoxSelectMS
	VoiceSelectBattle 					= FireDrakeVoxSelectMS

	;	VoiceEnterStateAttack			= 
	;	VoiceEnterStateAttackCharge		= 
	;	VoiceEnterStateAttackMachine		= 
	;	VoiceEnterStateAttackStructure	= 
	;	VoiceEnterStateMove			= 
	;	VoiceEnterStateMoveToCamp		= 
	;	VoiceEnterStateMoveWhileAttacking	= 
	;	VoiceEnterStateRetreatToCastle	= 

	SoundImpact					= ImpactHorse
	SoundAmbient				= FireDrakeVoxAmbientLoop

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= FireDrakeVoxMove
		VoiceEnterUnitMordorMumakil			= FireDrakeVoxMove
		VoiceEnterUnitSlaughterHouse		= FireDrakeVoxMove
		VoiceGarrison						= FireDrakeVoxMove
		VoiceInitiateCaptureBuilding		= FireDrakeVoxMove
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

    ; Warn the player when the enemy gets a unit. Override the normal sighting event from StandardUnitEvaEvents.inc
	;EvaEnemyObjectSightedEvent = 

	ClientUpdate = EvaAnnounceClientCreate ModuleTag_CreateAnnounce
		AnnouncementEventEnemy = DiscoveredEnemyDrake
		AnnouncementEventAlly = None
		AnnouncementEventOwner = None
		
		OnlyIfVisible = Yes						; Don't announce if hidden in the shroud
		CountAsFirstSightedAnnoucement = Yes	; Don't re-annouce if going into shroud & back
		UseObjectsPosition = No					; Play from central Fortress, not at unit's position
		CreateFakeRadarEvent = Yes				; Allow player to jump to unit after hearing annoucement
	End

	;ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo						;this only played once and way too early
	;	ModelCondition = Required:ATTACKING			Excluded:DYING	Sound:FireDrakeFireExhale
	;End

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: FireDrakeInfernoMS		Animation: WUFireDrk_SKL.WUFireDrk_ATKA		Frames: 22
		AnimationSound = Sound: FireDrakeFireExhale		Animation: WUFireDrk_SKL.WUFireDrk_ATKB		Frames: 20
		AnimationSound = Sound: TrollBodyfall			Animation: WUFireDrk_SKL.WUFireDrk_DIEA		Frames: 20
		AnimationSound = Sound: TrollBodyfall			Animation: WUFireDrk_SKL.WUFireDrk_LNDA		Frames: 1
		AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_GTPA		Frames: 9 16
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_RUNA		Frames: 6 16
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_TRNL		Frames: 12 26
		;AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_TRNR		Frames: 12 26
		AnimationSound = Sound: FireDrakeFootstep		Animation: WUFireDrk_SKL.WUFireDrk_ACCL		Frames: 12

		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_ATRA	Frames:8 11 18 20
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_RUNA	Frames:8 11 18 20
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_TRNL	Frames:14 29
		AnimationSound = Sound: FireDrakeFootstep	Animation:WUFIREDRK_SKL.WUFIREDRK_TRNR	Frames:14 29 
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf 		= PRELOAD SELECTABLE MONSTER CAN_CAST_REFLECTIONS SCARY PATH_THROUGH_INFANTRY NO_FREEWILL_ENTER HEAVY_MELEE_HITTER SCORE CAN_ATTACK CAN_ATTACK_WALLS ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT ;CAVALRY ;HORDE_MONSTER
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = BABYDRAKE_HEALTH
		RecoveryTime      = BABYDRAKE_HEALTH_RECOVERY_TIME
	End
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Artillery
	End
	; Behavior = StancesBehavior ModuleTag_StancesBehavior
	; 	StanceTemplate = FighterHorde
	; End
  
  	Behavior = BezierProjectileBehavior ModuleTag_08 // Module starts asleep, and wakes up when thrown.
		// To tweak a Bezier path
		FirstHeight = 24  // Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% // Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes // I dont detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   // When I hit the ground, Ill arc again
		BounceDistance = 40 // this far
		BounceFirstHeight = 24  // Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 24
		BounceFirstPercentIndent = 20% // Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End
  
	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle	= Yes ATTACK_BUILDINGS
		StopChaseDistance			= 642
		CanAttackWhileContained		= Yes
		AILuaEventsList				= FireDrakeFunctions		 ;; temp, Archers not afraid of trolls
		MinCowerTime				= 8000
		MaxCowerTime				= 10000
		;AttackPriority				= 	AttackPriority_Archer
	End
	
	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_VERYFAST_MEMBER_SPEED				; originally 120
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER 
		Speed     = NORMAL_MOUNTED_VERYFAST_MEMBER_SPEED				; originally 120
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL -FADED
		SinkDelay = 3000
		SinkRate = 0.600     ; in Dist/Sec
		DestructionDelay = 12000
		Sound = INITIAL FireDrakeVoxDieMS
	End
	
	Behavior = SlowDeathBehavior ModuleTag_ConstructionDeath
		DeathTypes			= NONE +FADED
		DeathFlags			= DEATH_2
		FadeDelay			= 500
		FadeTime			= 3500
		DestructionDelay	= 4000
		Sound = INITIAL SpellGenericUnsummonFasterMS
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 1993 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 1993 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 1993 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 0.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction = No    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End
	
	Behavior = EmotionTrackerUpdate	Module_EmotionTracker			; required for faramir's wounding arrow
		AddEmotion			=	Terror_Base
		//	AddEmotion			=	Doom_Base
		//	AddEmotion			=   BraceForBeingCrushed_Base
		//	AddEmotion			=	UncontrollableFear_Base
		//	AddEmotion			=	FearIdle_Base
		//	AddEmotion			=	FearBusy_Base
		AddEmotion			=	Point_Base
		AddEmotion			=	Taunt_Base
 		AddEmotion			=	CheerIdle_Base
		AddEmotion			=	CheerBusy_Base
		AddEmotion			=	HeroCheerIdle_Base
		AddEmotion			=	HeroCheerBusy_Base
		AddEmotion			=	Alert_Base
	End		

	
	;;; Inferno ;;;
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_InfernoEnabler
		SpecialPowerTemplate = SpecialAbilityFireDrakeInferno
		TriggeredBy = Upgrade_ObjectLevel5	;Upgrade_MiniHordeLvl2
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_InfernoStarter
		SpecialPowerTemplate		= SpecialAbilityFireDrakeInferno
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= FireDrakeVoxInferno
	End

	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_InfernoUpdate
		SpecialPowerTemplate    = SpecialAbilityFireDrakeInferno

		UnpackTime              = 1300 ; Drawing the horn
		PackTime                = 3700 ; Putting horn away

		AwardXPForTriggering    = 0
		
		StartAbilityRange = 90.0
		
		SpecialWeapon = BabyDrakeInferno
		WhichSpecialWeapon = 1
	End

	; Behavior = HordeMemberCollide ModuleTag_HMC
	; 	;nothing
	; End

	Behavior = AutoHealBehavior ModuleTag_LurtzHealing
		StartsActive 		= Yes
		HealingAmount 		= HERO_HEAL_AMOUNT
		HealingDelay 		= 1000
		StartHealingDelay 	= HERO_HEAL_DELAY
		HealOnlyIfNotInCombat 	= Yes
	End

	Behavior = AISpecialPowerUpdate DrakeMetamorphosisAI
		CommandButtonName = Command_SpecialAbilityMetamorphosis
		SpecialPowerAIType = AI_SPECIAL_POWER_GOBLINKING_MOUNTED
	End

	Geometry = BOX
	GeometryMajorRadius = 12.0
	GeometryMinorRadius = 5.0
	GeometryHeight = 12.2
	GeometryIsSmall = Yes

    Shadow = SHADOW_VOLUME
End

ChildObject WildFireDrake1 WildBabyDrake

	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_VERYFAST_MEMBER_SPEED				; originally 120
	End

	;//-------------------------GROWTH (PASSIVE)--------------------------------------
	; Behavior = SpecialPowerModule ModuleTag_GrowthUpdate   
	; 	SpecialPowerTemplate		= SpecialAbilityFakeLeadership
	; 	UpdateModuleStartsAttack	= No
	; 	StartsPaused				= No
	; End
	;//-------------------------FEARLESS UPGRADE--------------------------------------
	Behavior = AttributeModifierUpgrade ModuleTag_AMU
		TriggeredBy = Upgrade_ObjectLevel5
		AttributeModifier = FearlessForever
	End
	;---------METAMORPHOSIS------------------------------------------------------------------------
	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake2
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel2
		AddConditionFlags	= USER_2	; This sends the GrowUp lua event
	End
	;---------GROWTH HEAL------------------------------------------------------------------------
	; Behavior = SpecialAbilityUpdate ModuleTag_GrowthHealUpdate               
	; 	SpecialPowerTemplate    = SpecialAbilityDrakeGrowthHeal
	; 	StartAbilityRange       = 0
	; 	UnpackTime              = 300	; 200 ms of delay to assure the growth transform happened
	; 	PreparationTime         = 0		; touching it to grabbing it
	; 	PackTime                = 0  ; whacking it to holding it nice
	; 	AwardXPForTriggering    = 0
	; End
	; ; Athelas needs to be first because the special power just turns on the first one it finds.  No time to fix it better.
	; Behavior = AutoHealBehavior ModuleTag_GrowthHealing
	; 	StartsActive				= Yes	; Active, as in no upgrade required
	; 	ButtonTriggered				= Yes	; But doesn't actually run on its own.
	; 	HealingAmount				= FIREDRAKE_GROWTH_HEALTH
	; 	SingleBurst				= Yes
	; 	HealOnlyIfNotInCombat				= No
	; End
	;//-------------------------PARENTING (PASSIVE)---------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ParentingAuraAura
		SpecialPowerTemplate	= SpecialAbilityFakeLeadership2
		TriggeredBy				= Upgrade_ObjectLevel10
	End
	Behavior = SpecialPowerModule ModuleTag_ParentingAuraUpdate   
		SpecialPowerTemplate		= SpecialAbilityFakeLeadership2
		UpdateModuleStartsAttack	= No
		StartsPaused				= Yes
	End	
	Behavior = AttributeModifierAuraUpdate ModuleTag_ParentingAuraAttr
		StartsActive	= No ;If no, requires upgrade to turn on.
		BonusName		= FireDrakeParentingAura
		TriggeredBy		= Upgrade_ObjectLevel10
		RefreshDelay	= 2000
		Range			= 200
		AntiCategory	= BUFF
		ObjectFilter	= ANY ALLIES +WildFireDrake1 +WildFireDrake2 +WildFireDrake3 +WildFireDrake4
	End
	;------------------------------------------------------------------------------------------

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE1_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake1FlameCone ;WildFireDrake1Flame
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake1Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 0.6
End

ChildObject WildFireDrake2 WildFireDrake1

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_MEDIUM

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth2
	; 	TriggeredBy = Upgrade_ObjectLevel2
	; 	AttributeModifier = FireDrakeLevelUp2
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake3
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel3
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE2_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake2FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake2Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 0.7
End

ChildObject WildFireDrake3 WildFireDrake2

	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_FAST_MEMBER_SPEED				; originally 120
	End

	CrushableLevel		= 1  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 1

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth3
	; 	TriggeredBy = Upgrade_ObjectLevel3
	; 	AttributeModifier = FireDrakeLevelUp3
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake4
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel4
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE3_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake3FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake3Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 0.8
End

ChildObject WildFireDrake4 WildFireDrake3

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_MEDIUM

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth4
	; 	TriggeredBy = Upgrade_ObjectLevel4
	; 	AttributeModifier = FireDrakeLevelUp4
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake5
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel5
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE4_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake4FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake4Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 0.9
End

ChildObject WildFireDrake5 WildFireDrake4

	Draw = W3DScriptedModelDraw DustEffects
	    DefaultModelConditionState
	      Model = None
	    End
	    IdleAnimationState
	    End
	    AnimationState =  MOVING WADING
			ParticleSysBone = None FootstepSlash
	    End
	    AnimationState = MOVING ACCELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState =  MOVING ACCELERATE
			ParticleSysBone = None GenericSiegeTrailDust
	    End
	    AnimationState = MOUNTED MOVING
	    End
	End

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 1
	
	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth5
	; 	TriggeredBy = Upgrade_ObjectLevel5
	; 	AttributeModifier = FireDrakeLevelUp5
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake6
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel6
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE5_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake5FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake5Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1
End

ChildObject WildFireDrake6 WildFireDrake5

	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_MED_MEMBER_SPEED				; originally 120
	End

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth6
	; 	TriggeredBy = Upgrade_ObjectLevel6
	; 	AttributeModifier = FireDrakeLevelUp6
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake7
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel7
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE6_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake6FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake6Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1.1
End

ChildObject WildFireDrake7 WildFireDrake6

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 2
	
	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth7
	; 	TriggeredBy = Upgrade_ObjectLevel7
	; 	AttributeModifier = FireDrakeLevelUp7
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake8
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel8
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE7_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake7FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake7Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1.2
End

ChildObject WildFireDrake8 WildFireDrake7

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth8
	; 	TriggeredBy = Upgrade_ObjectLevel8
	; 	AttributeModifier = FireDrakeLevelUp8
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake9
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel9
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE8_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake8FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake8Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1.3
End

ChildObject WildFireDrake9 WildFireDrake8

	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED				; originally 120
	End

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG

	;//-------------------------GROWTH UPGRADE--------------------------------------
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth9
	; 	TriggeredBy = Upgrade_ObjectLevel9
	; 	AttributeModifier = FireDrakeLevelUp9
	; End
	;---------METAMORPHOSIS------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildFireDrake10
 		SynchronizeTimerOnSpecialPower = SpecialAbilityFireDrakeInferno
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .0		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		UnpackingVariation		= 3
	End	
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel10
		AddConditionFlags	= USER_2
	End

	; Body = ActiveBody ModuleTag_02
	; 	CheerRadius 	  = EMOTION_CHEER_RADIUS
	; 	MaxHealth         = FIREDRAKE9_HEALTH
	; 	RecoveryTime      = FIREDRAKE_HEALTH_RECOVERY_TIME
	; End

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake9FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake9Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1.4
End

ChildObject WildFireDrake10 WildBabyDrake	; LAST GROWTH SO INHERIT DIRECTLY FROM MAIN CLASS

	CommandSet	= WildAdultFireDrakeCommandSet

	DisplayName	= OBJECT:WildFireDrake

	LocomotorSet
		Locomotor = FiredrakeLocomotor
		Condition = SET_NORMAL
		Speed     = NORMAL_MOUNTED_SLOW_MEMBER_SPEED				; originally 120
	End

	;//-------------------------FEARLESS UPGRADE--------------------------------------
	Behavior = AttributeModifierUpgrade ModuleTag_AMU
		TriggeredBy = Upgrade_ObjectLevel5
		AttributeModifier = FearlessForever
	End
	;//-------------------------GROWTH UPGRADE--------------------------------------
	;---NOT WORKING SO I ADDED HEALTH MANUALLY	-Symo
	; Behavior = AttributeModifierUpgrade ModuleTag_Growth10
	; 	TriggeredBy = Upgrade_ObjectLevel10
	; 	AttributeModifier = FireDrakeLevelUp10
	; End
	;//-------------------------PARENTING (PASSIVE)---------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ParentingAuraAura
		SpecialPowerTemplate	= SpecialAbilityFakeLeadership2
		;TriggeredBy				= Upgrade_ObjectLevel10
	End
	Behavior = SpecialPowerModule ModuleTag_ParentingAuraUpdate   
		SpecialPowerTemplate		= SpecialAbilityFakeLeadership2
		UpdateModuleStartsAttack	= No
		StartsPaused				= No
	End	
	Behavior = AttributeModifierAuraUpdate ModuleTag_ParentingAuraAttr
		StartsActive	= Yes ;If no, requires upgrade to turn on.
		BonusName		= FireDrakeParentingAura
		;TriggeredBy		= Upgrade_ObjectLevel10
		RefreshDelay	= 2000
		Range			= 200
		AntiCategory	= BUFF
		ObjectFilter	= ANY +WildFireDrake1 +WildFireDrake2 +WildFireDrake3 +WildFireDrake4 ;+WildGundabadFighter ;;JUST TEST
	End
	;//------------------------- Upgraded Inferno --------------------------------------
	Behavior = SpecialPowerModule ModuleTag_InfernoStarter
		SpecialPowerTemplate		= SpecialAbilityFireDrakeInferno
		UpdateModuleStartsAttack	= Yes
		InitiateSound			= FireDrakeVoxInferno
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_InfernoUpdate
		SpecialPowerTemplate    = SpecialAbilityFireDrakeInferno
		UnpackTime              = 1300 ; Drawing the horn
		;PreparationTime         = 1   ; nothing
		;PersistentPrepTime      = 1600 ; Blowing
		PackTime                = 3700 ; Putting horn away
		;TriggerSound				= FireDrakeInfernoMS		;too much delay
		;UnpackSound				= FireDrakeInfernoMS	;didn't play at all
		;PackSound					= FireDrakeInfernoMS		;too much delay
	;    PrepSoundLoop           = 
		AwardXPForTriggering    = 0
		StartAbilityRange = 90.0
		SpecialWeapon = FireDrakeInferno
		WhichSpecialWeapon = 1
	End

	;VisionRange			= FIREDRAKE10_VISION 
	
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	CrushableLevel		= 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel		= 2

	WeaponSet
		Conditions	= None 
		Weapon		= PRIMARY    WildFireDrake10FlameCone
	End
	
	ArmorSet
		Conditions      = None
		Armor           = WildFireDrake10Armor
		DamageFX        = NormalDamageFX
	End
	
	EquivalentTo		= WildBabyDrake

	Scale = 1.6
End