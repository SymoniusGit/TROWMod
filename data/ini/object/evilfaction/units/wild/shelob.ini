;------------------------------------------------------------------------------
;
;	Shelob.ini
;
;------------------------------------------------------------------------------
; aka Shelob the spider
Object WildShelob
	; *** ART Parameters ***

    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	 SelectPortrait = HPShelob

    ; This is required for garrisoned objects - please put in all objects.
	ButtonImage = HIShelob

	DescriptionStrategic = CONTROLBAR:LW_ToolTip_Shelob

    	#include "..\..\..\includes\StunDrawModuleLarge.inc"

	Draw = W3DScriptedModelDraw ModuleTag_01

	  OkToChangeModelColor = Yes

		DefaultModelConditionState
			Model					= MUShelob_SKN
			Skeleton				= MUShelob_SKL
		End

		IdleAnimationState
			Animation				= IDLA
				AnimationName		= MUShelob_IDLA
				AnimationMode		= ONCE
			End
		End

	;//Wall climbing/rapelling
	AnimationState						= CLIMBING
		StateName						= STATE_Climbing
		Animation						= Climbing
			AnimationName				= MUShelob_WALB
			AnimationMode				= LOOP
			AnimationBlendTime			= 15
		End
		BeginScript;script to set transition from moving
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToClimbing") return end
		EndScript
	End
	TransitionState = Trans_RunningToClimbing
		Animation = Transition
			AnimationName = MUShelob_WALA
			AnimationMode = ONCE
		End
	End
	AnimationState						= RAPPELLING
		StateName						= STATE_Rappelling
		Animation						= Rapelling
			AnimationName				= MUShelob_WALD
			AnimationMode				= LOOP
			AnimationBlendTime			= 15
		End
		BeginScript;script to set transition from moving
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Running"  then CurDrawableSetTransitionAnimState("Trans_RunningToRappelling") return end
		EndScript
	End
	TransitionState = Trans_RunningToRappelling
		Animation = Transition
			AnimationName = MUShelob_WALD // same as rappelling
			AnimationMode = ONCE
		End
	End
	TransitionState = Trans_ClimbingToRunning
		Animation = Transition
			AnimationName = MUShelob_WALC // up and over
			AnimationMode = ONCE
		End
	End
	TransitionState = Trans_RappellingToRunning
		Animation = Transition
			AnimationName = MUShelob_WALE // landing
			AnimationMode = ONCE
		End
	End


		; -------- STUNNED ANIMS ---------		
		AnimationState        = STUNNED_FLAILING
			Animation           = StunFlail
				AnimationName     = MUShelob_FLYA
				AnimationMode      = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		AnimationState        = STUNNED
			Animation           = Stun
				AnimationName     = MUShelob_LNDA
				AnimationMode      = ONCE
			End
		End
		
		AnimationState        = STUNNED_STANDING_UP
			Animation           = Stun
				AnimationName     = MUShelob_GTPA
				AnimationMode      = ONCE
			End
		End
		
		; -------- DYING ANIMS ---------		
		AnimationState				= DYING
			Animation				= DIEA
				AnimationName		= MUShelob_DIEA
				AnimationMode		= ONCE
			End
		End


		;----------------------------leap animations ------------------------------------------------------	-	
		AnimationState			= SPECIAL_WEAPON_THREE UNPACKING
			Animation			= GettingReadyToLeap
				AnimationName	= MUShelob_WALA
				AnimationMode   = ONCE
			End
		End

		AnimationState        = THROWN_PROJECTILE
			Animation           = LEPB
				AnimationName     = MUShelob_FLYA
				AnimationMode     = LOOP ;ONCE
				; AnimationBlendTime = 10
			End
		End

		AnimationState        =  ABOUT_TO_HIT		;using Gimli Leap
		StateName			= State_AboutToHitGround
			Animation           = Leap
				AnimationName     = MUShelob_FLYA
				AnimationMode     = ONCE
				; UseWeaponTiming		= Yes
			End
		End
	
	
		AnimationState			= SPECIAL_WEAPON_TWO					; InstillTerror
			Animation
				AnimationName	= MUShelob_ATKC
				AnimationMode	= ONCE
			End
			FXEvent				= Frame:10 Name:FX_FearBlast
		End

		AnimationState			= SPECIAL_WEAPON_FIVE					; InstillTerror
			Animation
				AnimationName	= MUShelob_WEBA
				AnimationMode	= ONCE
			End
                  ;FrameForPristineBonePositions = 35
			;FXEvent				= Frame:10 Name:FX_FearBlast
		End
			
		; ------- MOVING ANIMS ---------	
		AnimationState				= TURN_LEFT
			StateName				= Turn
			Animation				= Walk
				AnimationName		= MUShelob_TRNL 
				AnimationMode		= LOOP
			End
		End
		
		AnimationState				= TURN_RIGHT
			StateName				= Turn
			Animation				= Walk
				AnimationName		= MUShelob_TRNR 
				AnimationMode		= LOOP
			End
		End

		AnimationState				= MOVING BACKING_UP
			Animation				= BAKA
				AnimationName		= MUShelob_BAKA
				AnimationMode		= LOOP
			End
			Flags					= RANDOMSTART
		End

		AnimationState				=	MOVING ATTACKING
			Animation				=	RUNA
				AnimationName		=	MUShelob_RUNA
				AnimationMode		=	LOOP
				Distance			=	21
			End
		End
		AnimationState				=	MOVING 
			StateName				= STATE_Running
			Animation				=	WLKA
				AnimationName		=	MUShelob_WLKA
				AnimationMode		=	LOOP
				Distance			=	21
			End
			
			BeginScript;script to set transition from moving
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Climbing"  then CurDrawableSetTransitionAnimState("Trans_ClimbingToRunning") return end
				if Prev == "STATE_Rappelling"  then CurDrawableSetTransitionAnimState("Trans_RappellingToRunning") return end
			EndScript

			
		End
		
		; ------- TUNNELLING
		AnimationState				= UNPACKING PACKING_TYPE_3
			Animation
				AnimationName		= MUShelob_TUNA
				AnimationMode		= ONCE
			End
			FXEvent	= Frame:15	Name: FX_ShelobDigA
		End
		AnimationState				= PACKING PACKING_TYPE_3
			Animation
				AnimationName		= MUShelob_TUNB
				AnimationMode		= ONCE
			End
			FXEvent	= Frame:10	Name: FX_ShelobDigB
		End
		
		; poisoned stinger
		AnimationState				= SPECIAL_WEAPON_ONE
			Animation
				AnimationName			= MUShelob_SPCA
				AnimationMode			= ONCE
			End
		End

		; ------- ATTACKING ANIMS ---------	
		AnimationState				= FIRING_OR_PREATTACK_A
			Animation				= ATKA
				AnimationName		= MUShelob_ATKA
				AnimationMode		= ONCE
			End
		End
				
		AnimationState				=	SELECTED
			Animation           = IDLA
				AnimationName     = MUShelob_IDLA
				AnimationMode     = ONCE
				AnimationPriority = 1
			End
			Animation           = IDLA
				AnimationName     = MUShelob_IDLA
				AnimationMode     = ONCE
				AnimationPriority = 1
			End
			Animation				=	AtAttention
				AnimationName		=	MUShelob_ATNA
				AnimationMode		=	ONCE
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
		End
		
		; ------- HIT REACTION ANIMS ---------	
		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = MUShelob_HITA
				AnimationMode = ONCE
			End
		End
	End
	
	; ***DESIGN parameters ***
	Side = Wild
	EditorSorting = UNIT
	ThreatLevel = SHELOB_THREAT_LEVEL
	TransportSlotCount = TRANSPORTSLOTCOUNT_MONSTER

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    ShelobMandibles
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	ArmorSet
		Conditions      = None
		Armor           = ShelobArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = WILD_SHELOB_VISION_RANGE
	ShroudClearingRange = SHROUD_CLEAR_HERO
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 1.0%

	BuildCost		= WILD_SHELOB_BUILDCOST
	BuildTime		= WILD_SHELOB_BUILDTIME 
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG
	
	DisplayName = OBJECT:WildShelob
	RecruitText 	= CONTROLBAR:ShelobRecruit	
	ReviveText		= CONTROLBAR:ShelobRevive	
	Hotkey		= CONTROLBAR:ShelobHotkey	
	
	CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	
	CrusherLevel        		= 2		;//What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushWeapon			= ShelobCrush  
	MinCrushVelocityPercent		= 100	;// Has to be moving at at least 30% of full speed.
	;CrushDecelerationPercent	= 8
	UseCrushAttack			= No	
	
	CommandSet = WildShelobCommandSet
	CommandPoints		= 50
	;//DisplayMeleeDamage = WILD_SHELOB_STINGER_DAMAGE

	; *** AUTO RESOLVE DATA *** 
	AutoResolveUnitType = AutoResolveUnit_Hero
	AutoResolveCombatChain = AutoResolve_HeroCombatChain

	AutoResolveBody = AutoResolve_ShelobBody	

	AutoResolveArmor
		Armor = AutoResolve_ShelobArmor
	End

	AutoResolveWeapon
		Weapon = AutoResolve_ShelobWeapon
	End

	AutoResolveLeadership = AutoResolve_GoblinKingBonus

	;AutoResolveLeadership = AutoResolve_ShelobBonus


	; *** AUDIO Parameters ***;

	;VoiceAmbushed				= ShelobVoiceDie	  OBSOLETE VOICE
	VoiceAttack					= ShelobVoiceAttack
	VoiceAttackCharge			= ShelobVoiceAttack
	VoiceAttackMachine			= ShelobVoiceAttack
	VoiceAttackStructure		= ShelobVoiceAttack
	VoiceCreated				= EVA:ShelobCreated
	VoiceCreated				= +SOUND:ShelobVoxCreated
	VoiceFullyCreated			= EVA:ShelobCreated
	VoiceFullyCreated			= +SOUND:ShelobVoxCreated
	VoiceMove					= ShelobVoiceMove
	VoiceMoveToCamp				= ShelobVoiceMove
	VoiceMoveWhileAttacking		= ShelobVoiceMove
	VoicePriority				= 50
	VoiceRetreatToCastle		= ShelobVoiceDie
	VoiceSelect					= ShelobVoiceSelect
	VoiceSelectBattle 			= ShelobVoiceSelect
	VoiceGuard					= ShelobVoiceMove
	
	SoundAmbient				= ShelobVoiceSinglesLoop
	SoundImpact					= ImpactHorse
	;SoundMoveLoop				= ShelobMove

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= ShelobVoiceMove
		VoiceEnterUnitMordorMumakil			= ShelobVoiceMove
		VoiceEnterUnitSlaughterHouse		= ShelobVoiceMove
		VoiceGarrison						= ShelobVoiceMove
		VoiceInitiateCaptureBuilding		= ShelobVoiceMove
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	EvaEventDieOwner 			= ShelobDie		;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound: ShelobPoisonStingerStrikeSwish	Animation:MUShelob_SKL.MUShelob_SPCA 	Frames:4
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_TRNL 	Frames:1 11
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_TRNR 	Frames:1 11
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_WLKA 	Frames:1 17 33 
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_RUNA 	Frames:1 5 9
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_GTPA 	Frames:1 16 
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_ATKA 	Frames:0 39
		AnimationSound = Sound: ShelobMove		Animation:MUShelob_SKL.MUShelob_ATKB 	Frames:0 100
		AnimationSound = Sound: ShelobFootstep		Animation:MUShelob_SKL.MUShelob_TRNL 	Frames:0 5 10 15 
		AnimationSound = Sound: ShelobFootstep		Animation:MUShelob_SKL.MUShelob_TRNR 	Frames:0 5 10 15 
		AnimationSound = Sound: ShelobFootstep		Animation:MUShelob_SKL.MUShelob_WLKA 	Frames:0 8 16 24 32 40 
		AnimationSound = Sound: ShelobFootstep		Animation:MUShelob_SKL.MUShelob_RUNA 	Frames:0 4 8 
		AnimationSound = Sound: ShelobFootstep		Animation:MUShelob_SKL.MUShelob_GTPA 	Frames: 10 20
		AnimationSound = Sound: ShelobFootstepAttack 	Animation:MUShelob_SKL.MUShelob_ATKA 	Frames:26
		AnimationSound = Sound: ShelobFootstepAttack 	Animation:MUShelob_SKL.MUShelob_ATKB 	Frames:26
		AnimationSound = Sound: ShelobVoiceHurt 	Animation:MUShelob_SKL.MUShelob_HITA	Frames:0
		AnimationSound = Sound: ShelobAttackScreech	Animation:MUShelob_SKL.MUShelob_ATKA	Frames:20
		AnimationSound = Sound: ShelobAttackScreech	Animation:MUShelob_SKL.MUShelob_ATKB	Frames:20
		AnimationSound = Sound: TrollBodyfall		Animation:MUShelob_SKL.MUShelob_LNDA	Frames:4
		AnimationSound = Sound: TrollBodyfall		Animation:MUShelob_SKL.MUShelob_DIEA	Frames:6
		;AnimationSound = Sound: ShelobVoiceDie Animation:MUShelob_SKL.MUShelob_DIEA Frames:12
		;AnimationSound = Sound: ShelobFootstep2 Animation:MUShelob_SKL.MUShelob_TRNL Frames:0 5 10 15 Animation:MUShelob_SKL.MUShelob_TRNR Frames:0 5 10 15 Animation:MUShelob_SKL.MUShelob_WLKA Frames:0 4 8 12 16 20 24 28 32 36 40 46 Animation:MUShelob_SKL.MUShelob_RUNA Frames:0 Animation:MUShelob_SKL.MUShelob_GTPA Frames:0 15
	End

	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD HERO SELECTABLE CAN_CAST_REFLECTIONS SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT PATH_THROUGH_EACH_OTHER ARMY_SUMMARY HEAVY_MELEE_HITTER CAN_CLIMB_WALLS  ;MONSTER
	
	Behavior = StancesBehavior ModuleTag_StancesBehavior
        StanceTemplate = Hero
    End

	Behavior = AIUpdateInterface ModuleTag_03
		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
		MoodAttackCheckRate        = 500
		AILuaEventsList				= ShelobFunctions
		MaxCowerTime				=	7500
		MinCowerTime				=	5000
	End

   	Behavior = EmotionTrackerUpdate	Module_EmotionTracker
		AddEmotion	=	Terror_Base
		AddEmotion	=	OVERRIDE UncontrollableFear_Base_Evil
			Duration			=	7000	
		End
		
		AlwaysAfraidOf			= NONE +CloudBreakSunbeam +SunflareSunbeam
		
		AddEmotion	=	Alert_Base
		IgnoreVeterancy = Yes
	End

	LocomotorSet
		Locomotor     = ShelobLocomotor
		Condition     = SET_NORMAL
		Speed         = 90 ;80
	End
	
	Body = RespawnBody ModuleTag_RespawnBody
		MaxHealth         = WILD_SHELOB_HEALTH                ;BALANCE Shelob Health
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
		DodgePercent		= 50%
	End
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End

	Behavior = InvisibilityUpdate ModuleTag_InnateCamouflage
		InvisibilityNugget
			InvisibilityType	= CAMOUFLAGE
			DetectionRange		= CAMOUFLAGE_RADIUS
			ForbiddenConditions	= AWAY_FROM_TREES MOVING FIRING_ANY
		End
		UpdatePeriod			= 2000
		StartsActive			= Yes
	End
	
	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
		ShockStandingTime = 1000	;msec
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL 
		SinkDelay = 2500
		SinkRate = 3.00     ; in Dist/Sec
		DestructionDelay = 20000
		FX = INITIAL FX_GiantSpiderDie
		Sound = INITIAL ShelobVoiceDie
	End
	
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2000 ; level 1 (light  damage) 
		HitReactionThreshold1 = 1.0   ; level 1 (light  damage) threshold trigger
	End
	
	Behavior = AutoHealBehavior ModuleTag_SarumanHealing
		StartsActive = Yes
		HealingAmount = 50	
		HealingDelay = 1000	
		StartHealingDelay = 10000
		HealOnlyIfNotInCombat = Yes
	End

	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv2
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel2
		AddConditionFlags	= USER_2
	End

	;-----------------------------------------------------------------------------
	;	Webbing Strike
	;-----------------------------------------------------------------------------
	;Behavior = UnpauseSpecialPowerUpgrade ModuleTag_CrippleEnabler
		;SpecialPowerTemplate	= SpecialAbilityShelobWebbing
		;TriggeredBy				= Upgrade_LurtzCrippleTrigger
	;End 
	
	Behavior = SpecialPowerModule ModuleTag_CrippleStarter                      
		SpecialPowerTemplate		= SpecialAbilityShelobWebbing
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= No
		InitiateSound				= ShelobVoiceAttack
	End
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_CrippleUpdate   
		SpecialPowerTemplate    = SpecialAbilityShelobWebbing
		SkipContinue			= Yes
		UnpackTime				= 700	; Pull out arrow
		PreparationTime			= 300		; Quick shot
		PersistentPrepTime		= 500	; looping the quick shot
		PackTime				= 500	; back to idle
		MustFinishAbility		= Yes
		AwardXPForTriggering	= 0		
		StartAbilityRange		= LURTZ_CRIPPLE_RANGE_ABILTY_START
		SpecialWeapon			= ShelobWebbing
		WhichSpecialWeapon		= 5
		;RejectedConditions		= WEAPON_TOGGLE
	End

	Behavior = AutoAbilityBehavior ModuleTag_WebbingAutoAbility
		SpecialAbility	= SpecialAbilityShelobWebbing
		MaxScanRange	= LURTZ_CRIPPLE_RANGE_ABILTY_START
		Query			= 1 ANY +HERO +MONSTER +INFANTRY +CAVALRY +DOZER -STRUCTURE ENEMIES
	End
	
	;-----------------------------------------------------------------------------
	;	Instill Terror
	;-----------------------------------------------------------------------------	
 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_InstillTerrorEnabler
		SpecialPowerTemplate		= SpecialAbilityScreech
		TriggeredBy					= Upgrade_ObjectLevel3
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_InstillTerror                  
		SpecialPowerTemplate		= SpecialAbilityScreech
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
	End
	
	Behavior = SpecialAbilityUpdate ModuleTag_InstillTerrorSAUpdate  
		SpecialPowerTemplate		= SpecialAbilityScreech
		UnpackTime					= 1
		AwardXPForTriggering		= 0		
		TriggerSound				= ShelobInstillTerrorMS
		EffectRange					= 180
		UnpackTime					= 100
		PreparationTime				= 1
		PackTime					= 2500
		CustomAnimAndDuration		= AnimState:SPECIAL_WEAPON_TWO AnimTime:2500
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityInstillTerror
		SpecialAbility = SpecialAbilityScreech
		Query = 1 ALL ENEMIES -STRUCTURE
	End

	;-----------------------------------------------------------------------------
	;	Queen Of Spiders
	;-----------------------------------------------------------------------------	
 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_DominateEnabler
		SpecialPowerTemplate		= SpecialAbilityDominateEnemy
		TriggeredBy					= Upgrade_ObjectLevel3
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_DominateEnemySpecialPowerModule
		SpecialPowerTemplate		= SpecialAbilityDominateEnemy 
		StartsPaused			= Yes
		UpdateModuleStartsAttack	= Yes
		InitiateSound			= ShelobInstillTerrorMS
	End

 	Behavior = DominateEnemySpecialPower ModuleTag_DominateEnemySpecialPower
        SpecialPowerTemplate		= SpecialAbilityDominateEnemy 
		UnpackingVariation			= 1
		StartAbilityRange			= 200.0
		AttributeModifierAffects	= SPIDERS_OBJECT_FILTER ;ANY ENEMIES NEUTRAL +SpiderLair +WildGiantSpider +WildJumpSpider +WildJumpSpiderHorde +WildSpiderling +WildSpiderlingHorde SpiderlingsSummonEgg +WildSpiderling_Slaved
		DominateRadius				= 100 ;60 ;100 ;150
		DominatedFX					= FX_SarumanDominateTargets
		;TriggerFX					= FX_SarumanDominateTrigger
		PermanentlyConvert			= Yes
		UnpackTime					= 2000
		PreparationTime				= 1   
		FreezeAfterTriggerDuration	= 2500 ; Hold AI for this long after we fire.		
    End

	Behavior = AutoAbilityBehavior ModuleTag_DominateAutoAbility
		SpecialAbility	= SpecialAbilityDominateEnemy
		MaxScanRange	= 200
		Query			= 1 SPIDERS_OBJECT_FILTER ENEMIES
	End
	
	;-----------------------------------------------------------------------------
	;	Poisoned Stinger
	;-----------------------------------------------------------------------------	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_PoisonedStingerEnabler
		SpecialPowerTemplate = SpecialAbilityWildShelobPoisonedStinger
		TriggeredBy = Upgrade_ObjectLevel6
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_PoisonedStingerStarter
		SpecialPowerTemplate		= SpecialAbilityWildShelobPoisonedStinger
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= ShelobVoxPoisonStinger
	End

	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_PoisonedStingerUpdate
		SpecialPowerTemplate    = SpecialAbilityWildShelobPoisonedStinger
		SkipContinue			= Yes
		UnpackTime				= 250
		PreparationTime			= 500
		MustFinishAbility		= Yes
		AwardXPForTriggering		= 0
		StartAbilityRange			= 15.0
		SpecialWeapon				= WildShelobPoisonedStinger
		WhichSpecialWeapon			= 1
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityyPoisonedStinger
		SpecialAbility = SpecialAbilityWildShelobPoisonedStinger
		Query = 1 ANY +HERO +MONSTER +INFANTRY +CAVALRY +DOZER -STRUCTURE ENEMIES
	End
		
	;-----------------------------------------------------------------------------
	;	Tunnel
	;-----------------------------------------------------------------------------	
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_TunnelEnabler
		SpecialPowerTemplate		= SpecialAbilityWildShelobTunnel
		TriggeredBy				= Upgrade_ObjectLevel10
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_TeleportStarter                      
		SpecialPowerTemplate		= SpecialAbilityWildShelobTunnel
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= ShelobVoxTunnel
	End

	Behavior = TeleportSpecialAbilityUpdate ModuleTag_TeleportUpdate   
		SpecialPowerTemplate		= SpecialAbilityWildShelobTunnel
		UnpackTime					= 1800
		PackTime					= 1300
		UnpackingVariation			= 3
		ApproachRequiresLOS			= No
		BusyForDuration				= 1800 ; don't accept any AI for this long... ai commands will be queued (should be at least PackTime)
		MaxDistance					= WILD_SHELOB_TUNNEL_DISTANCE ; this large so she can teleport to all points on screen
		;DestinationWeaponName		= SummonDragonBlowBack	; Fires at point of teleport to push people away and down.
	End

	;-------------WEBBING ERROR---------------------------------------------------------------
	; Behavior = SpecialPowerModule ModuleTag_WebbingStarter                      
	; 	SpecialPowerTemplate		= SpecialAbilityShelobWebbing
	; 	UpdateModuleStartsAttack	= Yes
	; 	StartsPaused			= No								; get this at level 1.
	; 	InitiateSound			= ShelobVoiceAttack
	; End

	; Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WebbingUpdate   
	; 	SpecialPowerTemplate    = SpecialAbilityShelobWebbing
	; 	WhichSpecialWeapon		= 5										; sets SPECIAL_WEAPON_ONE
	; 	UnpackTime             	= 1800									; leaning back
	; 	PreparationTime			= 10									; just a small amount
	; 	PackTime				= 950									; returning to flap
	; 	AwardXPForTriggering    = 0
	; 	StartAbilityRange		= DROGOTH_FIREBALL_RANGE
	; 	MustFinishAbility		= Yes
	; 	SpecialWeapon			= ShelobWebbing
	; End


	;------------------------Shelob Leap----------------------------------------
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LeapEnabler
		SpecialPowerTemplate = SpecialAbilityRogashLeap
		TriggeredBy = Upgrade_GimliLeapTrigger
		ObeyRechageOnTrigger		= Yes
	End

	Behavior = SpecialPowerModule ModuleTag_LeapStarter                      
		SpecialPowerTemplate		= SpecialAbilityRogashLeap
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= ShelobVoiceAttack
	End

	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_LeapUpdate   
		SpecialPowerTemplate    = SpecialAbilityRogashLeap
		UnpackTime              = 600
		PackTime                = 300 ; Putting horn away
		AwardXPForTriggering    = 0
		MustFinishAbility	= Yes
		StartAbilityRange = 100.0
		SpecialWeapon = ShelobLeap
		BusyForDuration = 2000 ; don't accept any AI for this long... ai commands will be queued
		; ApproachRequiresLOS = No
		WhichSpecialWeapon = 3
		TriggerSound = ShelobVoiceAttack
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		; To tweak a Bezier path
		FirstHeight = 50  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 20
		FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes
		CrushStyle = Yes ; I don't detonate, I just hit
		; Note, this flag shouldn't be in here.  Death is caused by the intent of the thrower, not the ability of an object to land.
		; Both a troll and Aragorn can throw Gimli.
		; Actually, that means a lot of this is bad.  For two different throw behaviors you need two different modules I think.
		;    DieOnImpact = Yes
		BounceCount = 0   ; When I hit the ground, I'll arc again
		FinalStuckTime = 1200 ; Can't move for this long afterwards
		GroundHitFX       = FX_GimliLeapLand
		GroundHitWeapon   = ShelobLeapWarhead
		PreLandingStateTime = 75; Look ahead to the end of the arc, and get the ABOUT_TO_HIT flag this far in advance
	End

	Behavior = AutoAbilityBehavior ModuleTag_LeapAutoAbility
		SpecialAbility	= SpecialAbilityRogashLeap
		MaxScanRange	= 100
		Query			= 1 ANY +HERO +MONSTER +INFANTRY +CAVALRY +DOZER -STRUCTURE ENEMIES
	End

	Behavior = AutoAbilityBehavior ModuleTag_AutoAbilityBehavior
	End
	
	;///////////////////
	; AISpecialPowers
	;///////////////////
	
	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceBattle
		CommandButtonName = Command_SetStanceBattle
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEBATTLE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeStanceAggressive
		CommandButtonName = Command_SetStanceAggressive
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEAGGRESSIVE
	End

	Behavior = AISpecialPowerUpdate GondorFighterHordeHoldGround
		CommandButtonName = Command_SetStanceHoldGround
		SpecialPowerAIType = AI_SPECIAL_POWER_STANCEHOLDGROUND
	End

	Behavior = AISpecialPowerUpdate InstillTerrorAI
		CommandButtonName = Command_WildShelobInstillTerror
		SpecialPowerAIType = AI_SPECIAL_POWER_BASIC_SELF_BUFF
	End
	
	Behavior = AISpecialPowerUpdate PoisonedStingerAI
		CommandButtonName = Command_WildShelobPoisonedStinger
		SpecialPowerAIType = AI_SPECIAL_POWER_ENEMY_TYPE_KILLER
		SpecialPowerRadius = 100
	End

	Behavior = AISpecialPowerUpdate WebbingStrikeAI
		CommandButtonName = Command_WildShelobWebbing
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		;SpecialPowerRadius = 100
	End

	Behavior = AISpecialPowerUpdate LeapAttackAI
		CommandButtonName = Command_WildShelobLeap
		SpecialPowerAIType = AI_SPECIAL_POWER_RANGED_AOE_ATTACK
		SpecialPowerRadius = 100
	End

	;----------------------------------------

	Geometry = CYLINDER
	GeometryMajorRadius = 25.0
	GeometryMinorRadius = 25.0
	GeometryHeight = 30.0
	GeometryIsSmall = No
	Shadow = SHADOW_DECAL	;SHADOW_VOLUME
	ShadowSizeX = 47;
	ShadowSizeY = 30;
	ShadowOffsetX = -4;
	ShadowTexture = ShadowSpider2 ;ShadowI
End

ChildObject WildShelobLv2 WildShelob
	Scale=1.05

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv2 
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES

	End

	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv3
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel3
		AddConditionFlags	= USER_2
	End
End

ChildObject WildShelobLv3 WildShelob
	Scale=1.10 ;06

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv3
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv4
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel4
		AddConditionFlags	= USER_2
	End
End
ChildObject WildShelobLv4 WildShelob
	Scale=1.15 ;09

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv4
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv5
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel		
		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel5
		AddConditionFlags	= USER_2
	End
	
End
ChildObject WildShelobLv5 WildShelob
	Scale=1.20 ;12

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv5
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv6
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel6
		AddConditionFlags	= USER_2
	End

End
ChildObject WildShelobLv6 WildShelob
	Scale=1.25 ;15

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv6
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv7
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel7
		AddConditionFlags	= USER_2
	End

End
ChildObject WildShelobLv7 WildShelob
	Scale=1.30 ;18
	
	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv7
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv8
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel8
		AddConditionFlags	= USER_2
	End

End
ChildObject WildShelobLv8 WildShelob
	Scale=1.35 ;21

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv8
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv9
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel9
		AddConditionFlags	= USER_2
	End

End
ChildObject WildShelobLv9 WildShelob
	Scale=1.40 ;24

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv9
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	;---------------------------------------------------------------------------------
	;    GROW UP
	;---------------------------------------------------------------------------------
 	Behavior = SpecialPowerModule ModuleTag_MetamorphStarter                      
 		SpecialPowerTemplate		= SpecialAbilityShapeshiftOne
 		UpdateModuleStartsAttack	= Yes
 		StartsPaused				= No
 	End

	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		MountedTemplate			= WildShelobLv10
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	

	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel10
		AddConditionFlags	= USER_2
	End

End
ChildObject WildShelobLv10 WildShelob
	Scale=1.45 ;3

	VoiceCreated				= NoSound
	VoiceCreated				= NoSound
	VoiceFullyCreated			= NoSound
	VoiceFullyCreated			= NoSound

	Behavior = RespawnUpdate ModuleTag_RespawnUpdate
		DeathAnim					= STUNNED						;Model condition to play when killed-to-respawn
		DeathFX						= FX_ShelobDieToRespawn			;FXList to play when killed-to-respawn
		DeathAnimationTime			= 1133							;How long DeathAnim will take.

		RespawnAnim					= SELECTED						;Animation to play when respawning.
		RespawnFX					= FX_ShelobResurrection				;FXList to play when respawning.
		RespawnAnimationTime		= 2000							;Time it takes for respawn to play.
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP				;Respawn at this location -- and at it's exit production point if possible.
		ButtonImage					= HIShelob_res
		RespawnAsTemplate			= WildShelobLv10
		;RespawnEntries determine the ruleset for how a character can be revived. Some units may automatically respawn, others
		;may require a specific revive action performed on him. You can specify different values for each level... or use Level:Any
		RespawnRules =				AutoSpawn:No	Cost:1500		Time:90000		Health:100%		;DEFAULT VALUES
		
	End
	Behavior = ToggleMountedSpecialAbilityUpdate ModuleTag_Metamorph
 		SpecialPowerTemplate    = SpecialAbilityShapeshiftOne
 		;MountedTemplate			= WildShelobLv10
 		SynchronizeTimerOnSpecialPower = SpecialAbilityShelobWebbing SpecialAbilityDominateEnemy SpecialAbilityWildShelobPoisonedStinger SpecialAbilityRogashLeap SpecialAbilityWildShelobTunnel
 		UnpackTime              = 100
 		PreparationTime         = 0			; none, cause we hop onto our mount in no time at all :)
 		PackTime                = 0 		; none, cause we hop onto our mount in no time at all :)
 		OpacityTarget			= .70		; How see-thru to be at peak of change
 		AwardXPForTriggering    = 0
 		IgnoreFacingCheck		= Yes
		;TriggerSound			= FellBeastVoiceMove
		;UnpackingVariation		= 3
	End	
	Behavior = ModelConditionUpgrade ModuleTag_GrowUp
		TriggeredBy			= Upgrade_ObjectLevel10
	End

End
